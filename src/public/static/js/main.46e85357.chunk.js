(this.webpackJsonpmoviefy=this.webpackJsonpmoviefy||[]).push([[0],{14:function(e,t,c){},40:function(e,t,c){},47:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c(0),s=c.n(r),a=c(25),i=c.n(a),o=(c(40),c(13)),l=(c(14),c(26)),j=c(27),u=c(32),d=c(31),h=c(58),b=c(16),p=function(e){Object(u.a)(c,e);var t=Object(d.a)(c);function c(){var e;Object(l.a)(this,c);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={toggle:!1},e.Toggle=function(){e.setState({toggle:!e.state.toggle})},e}return Object(j.a)(c,[{key:"render",value:function(){return Object(n.jsx)(n.Fragment,{children:Object(n.jsx)("div",{className:"navBar",children:Object(n.jsxs)(h.a,{display:"flex",p:1,bgcolor:"background.paper",children:[Object(n.jsx)(h.a,{p:1,bgcolor:"grey.300",children:Object(n.jsx)(b.b,{to:"/",children:" Home"})}),Object(n.jsx)(h.a,{textAlign:"center",flexGrow:1,p:1,children:"The Movie Warning Database"}),Object(n.jsx)(h.a,{p:1,bgcolor:"grey.300"}),Object(n.jsx)(h.a,{p:1,bgcolor:"grey.300"})]})})})}}]),c}(r.Component),v=c(6),g=c.n(v),x=c(12),O="http://localhost:9000";function y(e){var t=e.setMovie;console.log(t);var c=Object(r.useState)([]),s=Object(o.a)(c,2),a=s[0],i=s[1];function l(){return(l=Object(x.a)(g.a.mark((function e(t){var c,n,r;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=[],e.prev=1,e.next=4,fetch(O+"/tmdb/findMovie?searchValue="+t,{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:(r=e.sent).results&&r.results.forEach((function(e){c.length<6&&c.push(e.original_title)})),i(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}return Object(n.jsxs)("div",{id:"notebooks",children:[Object(n.jsx)("input",{id:"query",type:"text",onChange:function(e){!function(e){l.apply(this,arguments)}(e.target.value)},placeholder:"Search"}),a.map((function(e){return Object(n.jsx)("li",{onClick:function(){return t(e)},children:e})}))]})}var f=c(3);var m=function(e){var t=e.setMovie;Object(r.useEffect)((function(){l()}),[]);var c=Object(r.useState)([]),s=Object(o.a)(c,2),a=s[0],i=s[1],l=function(){var e=Object(x.a)(g.a.mark((function e(){var t,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.themoviedb.org/3/movie/now_playing?api_key=fb1465a6d4ccc4cd5448d6f97c18f3c1&language=en-US&page=1");case 2:return t=e.sent,e.next=5,t.json();case 5:c=e.sent,console.log(c.results),i(c.results);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(h.a,{flexWrap:"wrap",display:"flex",children:Object(n.jsx)("div",{className:"MovList",children:a.map((function(e){return Object(n.jsx)(h.a,{id:"BoxStyle",children:Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"container",children:Object(n.jsx)("div",{className:"vertical-center",children:Object(n.jsx)("h1",{children:Object(n.jsx)("div",{onClick:function(){return t(e.title)},children:e.title})},e.title)})}),Object(n.jsx)("img",{onClick:function(){return t(e.title)},src:" https://image.tmdb.org/t/p/w220_and_h330_face"+e.poster_path,alt:"no ",style:{width:"200px"}})]})})}))})})};var w=function(e){var t=e.match;Object(r.useEffect)((function(){l(),console.log("this is the match"),console.log(t)}),[]);var c=Object(r.useState)({}),s=Object(o.a)(c,2),a=s[0],i=s[1],l=function(){var e=Object(x.a)(g.a.mark((function e(){var c,n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("\n        https://api.themoviedb.org/3/movie/".concat(t.params.id,"?api_key=fb1465a6d4ccc4cd5448d6f97c18f3c1&language=en-US"));case 2:return c=e.sent,e.next=5,c.json();case 5:n=e.sent,i(n),console.log("This is the item"),console.log(n);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:"MovItem",children:Object(n.jsx)("h1",{children:a.title})}),Object(n.jsxs)("div",{className:"image",children:[Object(n.jsx)("img",{src:" https://image.tmdb.org/t/p/w600_and_h900_bestv2"+a.poster_path,alt:" ",style:{width:"300px"}}),Object(n.jsxs)("h3",{style:{width:"300px"},children:[a.overview," "]})]})]})};function k(e){var t=e.movieID,c=[],r=[{category:"Animal Death",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:1,severity:2,frequency:2},{category:"Cartoon Violence",type:2,severity:2,frequency:9}].reduce((function(e,t){return c.includes(t.category)?(e[t.category].type+=t.type,e[t.category].severity+=t.severity,e[t.category].frequency+=t.frequency,e[t.category].count++,e):(c.push(t.category),e[t.category]=t,e[t.category].count=1,e)}),{});console.log(r);var s=Object.keys(r).map((function(e){var t=r[e];return Object(n.jsxs)("li",{className:"warningListItem",children:[Object(n.jsx)("div",{children:Object(n.jsxs)("strong",{children:[t.category,":"]})}),Object(n.jsxs)("div",{children:["Type:",Object(n.jsx)("span",{className:"red",children:Math.round(t.type/t.count)})]}),Object(n.jsxs)("div",{children:["Severity:",Object(n.jsx)("span",{className:"yellow",children:Math.round(t.severity/t.count)})]}),Object(n.jsxs)("div",{children:["Frequency:",Object(n.jsx)("span",{className:"green",children:Math.round(t.frequency/t.count)})]}),Object(n.jsx)("div",{children:Object(n.jsx)("button",{children:"View user comments"})})]})}));return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"warningPageContainer",children:[Object(n.jsx)("h2",{children:t}),Object(n.jsx)("h3",{children:"Warnings:"}),Object(n.jsx)("ul",{className:"warningList",children:s})]}),Object(n.jsx)("div",{className:"warningPageContainer warningPageContainer-Bottom",children:Object(n.jsx)("button",{children:"Add warning"})})]})}function C(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),c=t[0],s=t[1];return Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)(b.a,{children:[Object(n.jsx)(p,{}),Object(n.jsxs)(f.c,{children:[Object(n.jsx)(f.a,{path:"/",exact:!0,component:function(){return console.log(c.length),c?Object(n.jsxs)("div",{children:[Object(n.jsx)(y,{setMovie:s}),Object(n.jsx)(k,{movieID:c}),Object(n.jsx)("button",{onClick:function(){return s("")},children:"Go back to search"})]}):Object(n.jsxs)("div",{className:"App",children:[Object(n.jsx)(y,{setMovie:s}),Object(n.jsx)(m,{setMovie:s})]})}}),Object(n.jsx)(f.a,{path:"/:id",component:w})]})]})})}i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.46e85357.chunk.js.map